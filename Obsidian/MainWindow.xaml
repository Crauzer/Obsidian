<Window x:Class="Obsidian.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:MaterialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:WadViewModel="clr-namespace:Obsidian.MVVM.ViewModels.WAD"
        xmlns:local="clr-namespace:Obsidian"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{DynamicResource MaterialDesignFont}"
        Title="Obsidian" Height="685" Width="1150" Icon="icon.ico" WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <ResourceDictionary>
            <HierarchicalDataTemplate DataType="{x:Type WadViewModel:WadFolderViewModel}" 
                                      ItemsSource="{Binding Items, UpdateSourceTrigger=PropertyChanged}">
                <TextBlock Text="{Binding Name}" ToolTip="{Binding Path}"/>
            </HierarchicalDataTemplate>
            <DataTemplate DataType="{x:Type WadViewModel:WadFileViewModel}">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="{Binding Name}" ToolTip="{Binding Path}"/>
                </Grid>
            </DataTemplate>
        </ResourceDictionary>
    </Window.Resources>
    <MaterialDesign:DialogHost Identifier="RootDialog">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <MaterialDesign:Card MaterialDesign:ShadowAssist.ShadowDepth="Depth3">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <DockPanel Grid.Row="0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Menu IsMainMenu="True" DockPanel.Dock="Top" Grid.Column="0">
                                <MenuItem Header="File" Grid.Column="0">
                                    <MenuItem Header="Open" Click="OnWadOpen" Icon="{MaterialDesign:PackIcon Kind=File}"/>
                                    <MenuItem Header="Save" Icon="{MaterialDesign:PackIcon Kind=FileExport}" IsEnabled="False"/>
                                    <Separator/>
                                    <MenuItem Header="Import Hashtable" Icon="{MaterialDesign:PackIcon Kind=FileDocument}" IsEnabled="False"/>
                                    <MenuItem Header="Export Hashtable" Icon="{MaterialDesign:PackIcon Kind=FileDocument}" IsEnabled="False"/>
                                    <Separator/>
                                    <MenuItem Header="Export All" Icon="{MaterialDesign:PackIcon Kind=ContentSaveAll}" IsEnabled="False"/>
                                    <MenuItem Header="Export Selected" Icon="{MaterialDesign:PackIcon Kind=ContentSaveAll}" IsEnabled="False"/>
                                    <Separator/>
                                    <MenuItem Header="Create Empty">
                                        <MenuItem.Icon>
                                            <MaterialDesign:PackIcon Kind="CheckboxBlankOutline"/>
                                        </MenuItem.Icon>
                                    </MenuItem>
                                    <MenuItem Header="Create From Directory">
                                        <MenuItem.Icon>
                                            <MaterialDesign:PackIcon Kind="FileTree"/>
                                        </MenuItem.Icon>
                                    </MenuItem>
                                </MenuItem>
                                <MenuItem Header="Edit" Grid.Column="0">
                                    <MenuItem Header="Remove" IsEnabled="False">
                                        <MenuItem.Icon>
                                            <MaterialDesign:PackIcon Kind="PlaylistRemove"/>
                                        </MenuItem.Icon>
                                    </MenuItem>
                                    <Separator/>
                                    <MenuItem Header="Add File" IsEnabled="False" Command="{x:Static MaterialDesign:DialogHost.OpenDialogCommand}">
                                        <MenuItem.Icon>
                                            <MaterialDesign:PackIcon Kind="FileHidden"/>
                                        </MenuItem.Icon>
                                    </MenuItem>
                                    <MenuItem Header="Add File Redirection"  IsEnabled="False" Command="{x:Static MaterialDesign:DialogHost.OpenDialogCommand}">
                                        <MenuItem.Icon>
                                            <MaterialDesign:PackIcon Kind="FileHidden"/>
                                        </MenuItem.Icon>
                                    </MenuItem>
                                    <MenuItem Header="Add Folder" IsEnabled="False">
                                        <MenuItem.Icon>
                                            <MaterialDesign:PackIcon Kind="Folder"/>
                                        </MenuItem.Icon>
                                    </MenuItem>
                                    <Separator/>
                                    <MenuItem Header="Modify Data" IsEnabled="False">
                                        <MenuItem.Icon>
                                            <MaterialDesign:PackIcon Kind="FileRestore"/>
                                        </MenuItem.Icon>
                                    </MenuItem>
                                </MenuItem>
                                <TextBox x:Name="FilterTextBox" MaterialDesign:HintAssist.Hint="Filter"/>
                            </Menu>
                            <Image Grid.Column="1" HorizontalAlignment="Right" Source="icon.ico" Width="50"/>
                        </Grid>
                    </DockPanel>
                    <ProgressBar x:Name="MainProgressBar" Grid.Row="1" Value="100"/>
                </Grid>
                
            </MaterialDesign:Card>
            <TreeView x:Name="WadTree" Grid.Row="1" ItemsSource="{Binding Items, UpdateSourceTrigger=PropertyChanged}"/>
        </Grid>
    </MaterialDesign:DialogHost>

</Window>
